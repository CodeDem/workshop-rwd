/*! Picturefill - v2.0.0 - 2014-03-28
* http://scottjehl.github.io/picturefill
* Copyright (c) 2014 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b){"use strict";"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)}),a._matchesMedia=function(b){return a.matchMedia&&a.matchMedia(b).matches},a._getDpr=function(){return a.devicePixelRatio||1};var c;a._getCachedLengthEl=function(){return c=c||b.createElement("div"),b.body?(b.body.appendChild(c),c):void 0},a._getWidthFromLength=function(b){var c=a._getCachedLengthEl();return c.style.cssText="width: "+b+";",c.offsetWidth},a._findWidthFromSourceSize=function(b){for(var c,d=b.trim().split(/\s*,\s*/),e=0,f=d.length;f>e;e++){var g=d[e],h=/(\([^)]+\))?\s*([^\s]+)/g.exec(g);if(h){var i,j=h[2];if(!h[1]){c=j;break}if(i=h[1],a._matchesMedia(i)){c=j;break}}}if(!c)return 300;var k=a._getWidthFromLength(c);return k},a._getCandidatesFromSourceSet=function(b,c){var d,e=b.trim().split(/\s*,\s*/),f=[];c&&(d=a._findWidthFromSourceSize(c));for(var g=0,h=e.length;h>g;g++){var i,j=e[g],k=j.split(/\s+/),l=k[1];!l||"w"!==l.slice(-1)&&"x"!==l.slice(-1)||(l=l.slice(0,-1)),i=c?parseFloat((parseInt(l,10)/d).toFixed(2)):l?parseFloat(l,10):a._getDpr();var m={url:k[0],resolution:i};f.push(m)}return f};var d=function(a,b){return a.resolution>b.resolution};a.picturefill=function(c){for(var e=b.getElementsByTagName("picture"),f=0,g=e.length;g>f;f++){var h=e[f];if(c||!h.hasAttribute("data-picture-evaluated")){h.setAttribute("data-picture-evaluated",!0);var i=[],j=h.getElementsByTagName("video");if(j.length>0){for(var k=j[0],l=k.getElementsByTagName("source");l.length>0;)h.appendChild(l[0]);k.parentNode.removeChild(k)}for(var m=h.getElementsByTagName("source"),n=0,o=m.length;o>n;n++){var p=m[n],q=m[n].getAttribute("media");p.hasAttribute("srcset")&&(!q||a._matchesMedia(q))&&i.push(p)}var r=h.getElementsByTagName("img")[0];if(i.length){var s=i.pop();r&&"NOSCRIPT"!==r.parentNode.nodeName||(r=b.createElement("img"),h.hasAttribute("alt")&&(r.alt=h.getAttribute("alt")),h.hasAttribute("title")&&(r.title=h.getAttribute("title")));var t,u=s.getAttribute("srcset");if(s.hasAttribute("sizes")){var v=s.getAttribute("sizes");t=a._getCandidatesFromSourceSet(u,v)}else t=a._getCandidatesFromSourceSet(u);for(var w=t.sort(d),x=0;x<w.length;x++){var y=w[x];if(y.resolution>=a._getDpr()){r.src.endsWith(y.url)||(r.src=y.url);break}}!r.src&&r.hasAttribute("data-picture-src")&&(r.src=r.getAttribute("data-picture-src")),s.appendChild(r)}}}for(var z=b.getElementsByTagName("img"),A=0,B=z.length;B>A;A++){var C=z[A];C.hasAttribute("data-picture-src")&&"PICTURE"!==C.parentNode.nodeName&&"SOURCE"!==C.parentNode.nodeName&&(c||!C.hasAttribute("data-picture-evaluated"))&&(C.setAttribute("data-picture-evaluated",!0),C.src=C.getAttribute("data-picture-src"))}};var e=function(){a.picturefill();var c=setInterval(function(){return a.picturefill(),/^loaded|^i|^c/.test(b.readyState)?void clearInterval(c):void 0},250);a.addEventListener("resize",function(){a.picturefill(!0)},!1)};e()}(this,this.document);